<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Tá»« vá»±ng BÃ i 11 - Tráº¯c nghiá»‡m (Ngáº«u nhiÃªn hoÃ n toÃ n)</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 700px;
    margin: 40px auto;
    background: #f0f2f5;
    text-align: center;
  }
  #question {
    font-size: 48px;
    margin: 40px;
    font-weight: bold;
    color: #1a1a1a;
  }
  .options {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 30px auto;
    max-width: 600px;
  }
  button {
    padding: 18px;
    font-size: 20px;
    background: white;
    border: 2px solid #ddd;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s;
  }
  button:hover { border-color: #1890ff; }
  .correct {
    background: #d4edda !important;
    border-color: #28a745 !important;
    color: #155724;
  }
  .wrong {
    background: #f8d7da !important;
    border-color: #dc3545 !important;
    color: #721c24;
    animation: shake 0.4s;
  }
  @keyframes shake {
    0%,100%{transform:translateX(0)}
    25%{transform:translateX(-10px)}
    75%{transform:translateX(10px)}
  }
  #score {
    font-size: 24px;
    margin: 20px;
  }
  #restart {
    margin-top: 30px;
    padding: 12px 30px;
    font-size: 18px;
    display: none;
  }
</style>
</head>
<body>

<h1>Tá»« vá»±ng BÃ i 11 â€“ ä½ èªè­˜ä»–å—ï¼Ÿ (Thá»© tá»± ngáº«u nhiÃªn)</h1>
<div id="question"></div>
<div class="options" id="options"></div>
<div id="score">CÃ¢u 1 / 44 â€“ Äiá»ƒm: 0</div>
<button id="restart" onclick="startQuiz()">ChÆ¡i láº¡i tá»« Ä‘áº§u</button>

<script>
// Danh sÃ¡ch tá»« vá»±ng (44 tá»«)
const originalVocab = [
  {han: "èªè­˜",    viet: "quen biáº¿t, nháº­n biáº¿t"},
  {han: "äº†",      viet: "Ä‘Ã£ (hoÃ n thÃ nh)"},
  {han: "å·²ç¶“",    viet: "Ä‘Ã£"},
  {han: "å¡ç‰‡",    viet: "tháº», danh thiáº¿p"},
  {han: "çœ‹åˆ°",    viet: "nhÃ¬n tháº¥y (tÃ¬nh cá»)"},
  {han: "æ–‡ç« ",    viet: "bÃ i viáº¿t"},
  {han: "ç„¶å¾Œ",    viet: "sau Ä‘Ã³"},
  {han: "ç•™è¨€",    viet: "Ä‘á»ƒ láº¡i lá»i nháº¯n"},
  {han: "å›ç­”",    viet: "tráº£ lá»i"},
  {han: "èŠå¤©",    viet: "nÃ³i chuyá»‡n, chat"},
  {han: "å·®ä¸å¤š",  viet: "khoáº£ng chá»«ng, gáº§n giá»‘ng"},
  {han: "è¦‹é¢",    viet: "gáº·p máº·t"},
  {han: "é‚„æ²’",    viet: "chÆ°a"},
  {han: "é‚„",      viet: "váº«n cÃ²n"},
  {han: "æ²’",      viet: "khÃ´ng (Ä‘á»™ng tá»« hoÃ n thÃ nh)"},
  {han: "æ±ºå®š",    viet: "quyáº¿t Ä‘á»‹nh"},
  {han: "ä»¥å‰",    viet: "trÆ°á»›c Ä‘Ã¢y"},
  {han: "ä»¥å¾Œ",    viet: "sau nÃ y"},
  {han: "ç¶“é©—",    viet: "kinh nghiá»‡m"},
  {han: "é€™æ¨£",    viet: "nhÆ° tháº¿ nÃ y"},
  {han: "å¥‡æ€ª",    viet: "ká»³ láº¡"},
  {han: "è¾¦æ³•",    viet: "cÃ¡ch, biá»‡n phÃ¡p"},
  {han: "å¹«å¿™",    viet: "giÃºp Ä‘á»¡"},
  {han: "æ‰“ç®—",    viet: "dá»± Ä‘á»‹nh"},
  {han: "å¯èƒ½",    viet: "cÃ³ thá»ƒ"},
  {han: "ç´„",      viet: "háº¹n"},
  {han: "ä½†æ˜¯",    viet: "nhÆ°ng"},
  {han: "çµ¦",      viet: "cho"},
  {han: "ä»€éº¼æ™‚å€™",viet: "khi nÃ o"},
  {han: "ç¶²è·¯",    viet: "máº¡ng internet"},
  {han: "èœå–®",    viet: "thá»±c Ä‘Æ¡n"},
  {han: "ç‰¹åˆ¥",    viet: "Ä‘áº·c biá»‡t"},
  {han: "é»èœ",    viet: "gá»i mÃ³n"},
  {han: "èœ",      viet: "mÃ³n Äƒn"},
  {han: "ç›¤",      viet: "Ä‘Ä©a (lÆ°á»£ng tá»«)"},
  {han: "ç›¤å­",    viet: "cÃ¡i Ä‘Ä©a"},
  {han: "ç…§ç›¸",    viet: "chá»¥p áº£nh"},
  {han: "ç…§",      viet: "chá»¥p"},
  {han: "ç…§ç›¸æ©Ÿ",  viet: "mÃ¡y áº£nh"},
  {han: "ç…§ç‰‡",    viet: "bá»©c áº£nh"},
  {han: "å¿ƒæƒ…",    viet: "tÃ¢m tráº¡ng"},
  {han: "å‡ºå»",    viet: "ra ngoÃ i"},
  {han: "æ©Ÿæœƒ",    viet: "cÆ¡ há»™i"},
  {han: "èŠå¤©å…’",  viet: "nÃ³i chuyá»‡n, chat (kháº©u ngá»¯)"}
];

// Biáº¿n toÃ n cá»¥c Ä‘á»ƒ lÆ°u danh sÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c xÃ¡o trá»™n
let vocab = [];
let current = 0;
let score = 0;

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// XÃ¡o trá»™n danh sÃ¡ch tá»« vá»±ng má»—i khi báº¯t Ä‘áº§u
function startQuiz() {
  vocab = shuffle([...originalVocab]);  // táº¡o báº£n sao rá»“i xÃ¡o
  current = 0;
  score = 0;
  document.getElementById("restart").style.display = "none";
  document.getElementById("score").style.display = "block";
  loadQuestion();
}

function loadQuestion() {
  if (current >= vocab.length) {
    endQuiz();
    return;
  }

  const q = vocab[current];
  document.getElementById("question").textContent = q.han;
  document.getElementById("score").textContent = 
    `CÃ¢u ${current + 1} / ${vocab.length} â€“ Äiá»ƒm: ${score}`;

  // 4 Ä‘Ã¡p Ã¡n: 1 Ä‘Ãºng + 3 sai ngáº«u nhiÃªn
  let wrong = vocab
    .filter(item => item.viet !== q.viet)
    .map(item => item.viet);
  wrong = shuffle(wrong).slice(0, 3);
  const options = shuffle([q.viet, ...wrong]);

  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";
  options.forEach(opt => {
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(opt === q.viet, btn);
    optionsDiv.appendChild(btn);
  });
}

function checkAnswer(isCorrect, btn) {
  document.querySelectorAll("#options button").forEach(b => b.disabled = true);

  if (isCorrect) {
    btn.classList.add("correct");
    score++;
    setTimeout(() => {
      current++;
      loadQuestion();
    }, 600);
  } else {
    btn.classList.add("wrong");
    setTimeout(() => {
      alert("Sai rá»“i! LÃ m láº¡i tá»« Ä‘áº§u nha ğŸ”¥");
      startQuiz(); // tá»± Ä‘á»™ng xÃ¡o trá»™n láº¡i luÃ´n
    }, 800);
  }
}

function endQuiz() {
  document.getElementById("question").textContent = "HOÃ€N THÃ€NH!";
  document.getElementById("options").innerHTML = 
    `<h2>ChÃºc má»«ng báº¡n Ä‘Æ°á»£c ${score}/${vocab.length} Ä‘iá»ƒm!</h2>`;
  document.getElementById("score").style.display = "none";
  document.getElementById("restart").style.display = "inline-block";
}

// Báº¯t Ä‘áº§u láº§n Ä‘áº§u
startQuiz();
</script>
</body>
</html>