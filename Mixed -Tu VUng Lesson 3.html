<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Tá»« vá»±ng BÃ i 3 - Tráº¯c nghiá»‡m (Ngáº«u nhiÃªn)</title>
<style>
  body {font-family: Arial, sans-serif; max-width: 700px; margin: 40px auto; background: #fff0f5; text-align: center;}
  #question {font-size: 48px; margin: 40px; font-weight: bold; color: #1a1a1a;}
  .options {display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px auto; max-width: 600px;}
  button {padding: 18px; font-size: 20px; background: white; border: 2px solid #ddd; border-radius: 12px; cursor: pointer; transition: all 0.2s;}
  button:hover {border-color: #ff1493;}
  .correct {background: #d4edda !important; border-color: #28a745 !important; color: #155724;}
  .wrong {background: #f8d7da !important; border-color: #dc3545 !important; color: #721c24; animation: shake 0.4s;}
  @keyframes shake {0%,100%{transform:translateX(0)} 25%{transform:translateX(-10px)} 75%{transform:translateX(10px)}}
  #score {font-size: 24px; margin: 20px;}
  #restart {margin-top: 30px; padding: 12px 30px; font-size: 18px; display: none;}
</style>
</head>
<body>

<h1>Tá»« vá»±ng BÃ i 3 â€“ è²·ç”Ÿæ—¥ç¦®ç‰© (Ngáº«u nhiÃªn)</h1>
<div id="question"></div>
<div class="options" id="options"></div>
<div id="score">CÃ¢u 1 / 65 â€“ Äiá»ƒm: 0</div>
<button id="restart" onclick="startQuiz()">ChÆ¡i láº¡i tá»« Ä‘áº§u</button>

<script>
const originalVocab = [
  {han: "è²·", viet: "mua"},
  {han: "ç¦®ç‰©", viet: "quÃ  táº·ng"},
  {han: "æƒ³", viet: "muá»‘n"},
  {han: "æƒ³è¦", viet: "muá»‘n"},
  {han: "é€", viet: "táº·ng"},
  {han: "å€‹", viet: "lÆ°á»£ng tá»« chung"},
  {han: "çœ‹", viet: "Ä‘á»c, nhÃ¬n, xem"},
  {han: "æ›¸", viet: "sÃ¡ch"},
  {han: "å…©", viet: "hai (dÃ¹ng vá»›i lÆ°á»£ng tá»«)"},
  {han: "æœ¬", viet: "lÆ°á»£ng tá»« cho sÃ¡ch"},
  {han: "ä¸­æ–‡", viet: "tiáº¿ng Trung"},
  {han: "è‹±æ–‡", viet: "tiáº¿ng Anh"},
  {han: "ä¸€äº›", viet: "má»™t vÃ i, má»™t sá»‘"},
  {han: "èŠ±", viet: "hoa"},
  {han: "æœµ", viet: "lÆ°á»£ng tá»« cho hoa"},
  {han: "å’Œ", viet: "vÃ "},
  {han: "å¤§", viet: "lá»›n"},
  {han: "å°", viet: "nhá»"},
  {han: "è›‹ç³•", viet: "bÃ¡nh ngá»t"},
  {han: "è›‹", viet: "trá»©ng"},
  {han: "ä¸€èµ·", viet: "cÃ¹ng nhau"},
  {han: "å•Š", viet: "Ã  (háº¡t cÃ¢u kháº³ng Ä‘á»‹nh)"},
  {han: "é€™", viet: "nÃ y"},
  {han: "é‚£", viet: "kia"},
  {han: "ç¨®", viet: "loáº¡i, thá»©"},
  {han: "é‰›ç­†", viet: "bÃºt chÃ¬"},
  {han: "ç­†", viet: "bÃºt"},
  {han: "æ€éº¼æ¨£", viet: "tháº¿ nÃ o"},
  {han: "æ±è¥¿", viet: "Ä‘á»“ váº­t, thá»©"},
  {han: "æ", viet: "lÆ°á»£ng tá»« cho bÃºt"},
  {han: "å¡Š", viet: "lÆ°á»£ng tá»« cho tiá»n"},
  {han: "éŒ¢", viet: "tiá»n"},
  {han: "å…ƒ", viet: "Ä‘Æ¡n vá»‹ tiá»n tá»‡"},
  {han: "ä¾¿å®œ", viet: "ráº»"},
  {han: "è²´", viet: "Ä‘áº¯t"},
  {han: "é¡è‰²", viet: "mÃ u sáº¯c"},
  {han: "ç´…è‰²", viet: "mÃ u Ä‘á»"},
  {han: "ç´…", viet: "Ä‘á»"},
  {han: "ç™½è‰²", viet: "mÃ u tráº¯ng"},
  {han: "ç™½", viet: "tráº¯ng"},
  {han: "éƒ½", viet: "Ä‘á»u, cáº£"},
  {han: "å¥½çœ‹", viet: "Ä‘áº¹p, dá»… nhÃ¬n"},
  {han: "å¸¸", viet: "thÆ°á»ng xuyÃªn"},
  {han: "å¸¸å¸¸", viet: "thÆ°á»ng xuyÃªn"},
  {han: "ç©¿", viet: "máº·c"},
  {han: "è¡£æœ", viet: "quáº§n Ã¡o"},
  {han: "ä»¶", viet: "lÆ°á»£ng tá»« cho quáº§n Ã¡o"},
  {han: "è«‹", viet: "má»i, nhá»"},
  {han: "ç©", viet: "chÆ¡i"},
  {han: "é€™äº›", viet: "nhá»¯ng cÃ¡i nÃ y"},
  {han: "é‚£äº›", viet: "nhá»¯ng cÃ¡i kia"},
  {han: "é»å¿ƒ", viet: "Ä‘á»“ Äƒn nháº¹"},
  {han: "ç”œé»", viet: "mÃ³n trÃ¡ng miá»‡ng"},
  {han: "ç”œ", viet: "ngá»t"},
  {han: "é–‹å¿ƒ", viet: "vui váº»"},
  {han: "ç”Ÿæ—¥", viet: "sinh nháº­t"},
  {han: "å¿«æ¨‚", viet: "vui váº», háº¡nh phÃºc"},
  {han: "ç”Ÿæ—¥å¿«æ¨‚", viet: "chÃºc má»«ng sinh nháº­t"},
  {han: "è—è‰²", viet: "mÃ u xanh dÆ°Æ¡ng"},
  {han: "è—", viet: "xanh dÆ°Æ¡ng"},
  {han: "ç¶ è‰²", viet: "mÃ u xanh lÃ¡"},
  {han: "ç¶ ", viet: "xanh lÃ¡"},
  {han: "é»ƒè‰²", viet: "mÃ u vÃ ng"},
  {han: "é»ƒ", viet: "vÃ ng"}
];

let vocab = [], current = 0, score = 0;

function shuffle(a) { for (let i = a.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [a[i], a[j]] = [a[j], a[i]]; } return a; }

function startQuiz() {
  vocab = shuffle([...originalVocab]);
  current = 0; score = 0;
  document.getElementById("restart").style.display = "none";
  document.getElementById("score").style.display = "block";
  loadQuestion();
}

function loadQuestion() {
  if (current >= vocab.length) { endQuiz(); return; }
  const q = vocab[current];
  document.getElementById("question").textContent = q.han;
  document.getElementById("score").textContent = `CÃ¢u ${current + 1} / ${vocab.length} â€“ Äiá»ƒm: ${score}`;

  let wrong = vocab.filter(x => x.viet !== q.viet).map(x => x.viet);
  wrong = shuffle(wrong).slice(0, 3);
  const options = shuffle([q.viet, ...wrong]);

  const div = document.getElementById("options"); div.innerHTML = "";
  options.forEach(opt => {
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(opt === q.viet, btn);
    div.appendChild(btn);
  });
}

function checkAnswer(correct, btn) {
  document.querySelectorAll("#options button").forEach(b => b.disabled = true);
  if (correct) {
    btn.classList.add("correct"); score++;
    setTimeout(() => { current++; loadQuestion(); }, 600);
  } else {
    btn.classList.add("wrong");
    setTimeout(() => {
      alert("Sai rá»“i! LÃ m láº¡i tá»« Ä‘áº§u nha! ğŸ‚");
      startQuiz();
    }, 800);
  }
}

function endQuiz() {
  document.getElementById("question").textContent = "HOÃ€N THÃ€NH!";
  document.getElementById("options").innerHTML = `<h2>ChÃºc má»«ng! Äiá»ƒm: ${score}/${vocab.length}</h2>`;
  document.getElementById("score").style.display = "none";
  document.getElementById("restart").style.display = "inline-block";
}

startQuiz();
</script>
</body>
</html>